<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Key Vault Comparator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Azure Key Vault Comparator</h1>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label for="sourceSubscription">📊 Source Subscription:</label>
                <select id="sourceSubscription" aria-label="Select source subscription">
                    <option value="">All Subscriptions</option>
                </select>
            </div>
            <div class="control-group">
                <label for="sourceVault">🔐 Source Vault:</label>
                <select id="sourceVault" aria-label="Select source vault">
                    <option value="">Select source vault...</option>
                </select>
            </div>
            <div class="control-group">
                <label for="targetSubscription">📊 Target Subscription:</label>
                <select id="targetSubscription" aria-label="Select target subscription">
                    <option value="">All Subscriptions</option>
                </select>
            </div>
            <div class="control-group">
                <label for="targetVault">🔐 Target Vault:</label>
                <select id="targetVault" aria-label="Select target vault">
                    <option value="">Select target vault...</option>
                </select>
            </div>
            <div class="control-group">
                <label>&nbsp;</label>
                <button onclick="refreshAllVaults()" aria-label="Refresh all vaults">
                    🔄 Refresh All
                </button>
            </div>
        </div>
        
        <div class="checkbox-group">
            <label for="showSecrets">
                <input type="checkbox" id="showSecrets" checked onchange="toggleSecrets()" aria-describedby="showSecretsDesc">
                👁️ Show Secrets
            </label>
            <label for="showMetadata">
                <input type="checkbox" id="showMetadata" onchange="toggleMetadata()" aria-describedby="showMetadataDesc">
                📋 Show Metadata
            </label>
            <label for="dryRun">
                <input type="checkbox" id="dryRun" aria-describedby="dryRunDesc">
                🧪 Dry Run Mode
            </label>
        </div>
        
        <div class="filter-group">
            <div class="filter-title">🔍 Filter Secrets:</div>
            <div class="filter-options">
                <label for="filter-all">
                    <input type="radio" id="filter-all" name="secretFilter" value="all" checked onchange="applyFilter()">
                    📋 Show All
                </label>
                <label for="filter-missing">
                    <input type="radio" id="filter-missing" name="secretFilter" value="missing" onchange="applyFilter()">
                    🔵 Missing in Target
                </label>
                <label for="filter-different">
                    <input type="radio" id="filter-different" name="secretFilter" value="different" onchange="applyFilter()">
                    🟠 Different Values
                </label>
                <label for="filter-identical">
                    <input type="radio" id="filter-identical" name="secretFilter" value="identical" onchange="applyFilter()">
                    🟢 Identical Values
                </label>
            </div>
        </div>
        
        <div id="status" class="status" style="display: none;"></div>
        
        <div class="comparison">
            <div class="comparison-header">
                <div class="vault-title">📤 Source Vault</div>
                <div class="vault-title">📥 Target Vault</div>
            </div>
            <div id="unifiedSecrets" class="unified-secret-list" role="region" aria-label="Unified secret comparison"></div>
        </div>
        
        <div class="actions">
            <button onclick="syncAll()" aria-label="Sync all changes between vaults">
                🔄 Sync All Changes
            </button>
            <button onclick="exportVault()" aria-label="Export target vault to JSON">
                📤 Export Target Vault
            </button>
            <button onclick="importVault()" aria-label="Import vault from JSON file">
                📥 Import to Target Vault
            </button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
